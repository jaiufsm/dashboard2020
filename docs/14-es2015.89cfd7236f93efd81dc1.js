(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{JLuJ:function(l,n,a){"use strict";a.r(n);var t=a("8Y7J");class u{}var i=a("pMnS"),o=a("oBZk"),r=a("ZZ/e"),e=a("RGvM"),s=a("TX0D"),b=a("HlEa"),c=a("SVse"),h=a("mrSG"),d=a("dKRk"),p=a("gZPr");class g{constructor(l,n){this.apiJai=l,this.loadingController=n,this.loading=null}ngOnInit(){this.loadCharts()}presentLoading(){return h.b(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:"Carregando..."}),yield this.loading.present()}))}loadCharts(){this.presentLoading(),this.graficos=[];const l=[];l.push(this.apiJai.getTrabalhos()),l.push(this.apiJai.getAvaliacoes()),l.push(this.apiJai.getCheck()),Promise.all(l).then(l=>{this.trabalhos=l[0],this.avaliacoes=l[1],this.checks=l[2];const n=p.a.getDays();for(const t of n){const l=this.checks.filter(l=>l.data===t),n=this.trabalhos.filter(l=>l.dia===t),a={trabalhos:{title:t,chart:this.estadoTrabalhoChart(n,l,this.avaliacoes)},avaliadores:{title:t,chart:this.checkChart(n,l,this.avaliacoes)}};console.log(a),this.graficos.push(a)}const a={trabalhos:{title:"Geral",chart:this.estadoTrabalhoChart(this.trabalhos,this.checks,this.avaliacoes)},avaliadores:{title:"Geral",chart:this.checkChart(this.trabalhos,this.checks,this.avaliacoes)}};this.graficos.push(a),this.loading&&this.loading.dismiss()})}estadoTrabalhoChart(l,n,a){let t=0,u=0,i=0;return l.map(l=>{a.findIndex(n=>n.id===l.idTrabalho)>-1?t+=1:n.findIndex(n=>n.idAvaliador===l.idAvaliador)>-1?i+=1:u+=1}),{chartType:"PieChart",dataTable:[["Estado","Trabalhos"],["Avaliado",t],["N\xe3o Avaliado",u],["Em Andamento",i]],options:{width:380,colors:["#32CD32","#FF0000","#FFA500"]}}}checkChart(l,n,a){const t=l.map(l=>l.idAvaliador).filter((l,n,a)=>a.indexOf(l)===n).length,u=n.map(l=>l.idAvaliador).filter((l,n,a)=>a.indexOf(l)===n).length,i=n.filter(l=>"in-sub"===l.tipo).map(l=>l.idAvaliador).filter((l,n,a)=>a.indexOf(l)===n).length;return{chartType:"PieChart",dataTable:[["Check-in","Avaliadores"],["Efetuado",u-i],["Efetuado - Substituto",i],["N\xe3o Efetuado",t-u]],options:{width:380,colors:["#32CD32","#033DFC","#FF0000"]}}}}var f=t.yb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}"]],data:{}});function v(l){return t.Pb(0,[(l()(),t.Ab(0,0,null,null,27,"ion-row",[],null,null,null,o.C,o.l)),t.zb(1,49152,null,0,r.gb,[t.j,t.p,t.F],null,null),(l()(),t.Ab(2,0,null,0,12,"ion-col",[],null,null,null,o.w,o.f)),t.zb(3,49152,null,0,r.q,[t.j,t.p,t.F],null,null),(l()(),t.Ab(4,0,null,0,10,"ion-card",[],null,null,null,o.v,o.b)),t.zb(5,49152,null,0,r.j,[t.j,t.p,t.F],null,null),(l()(),t.Ab(6,0,null,0,4,"ion-card-header",[],null,null,null,o.t,o.d)),t.zb(7,49152,null,0,r.l,[t.j,t.p,t.F],null,null),(l()(),t.Ab(8,0,null,0,2,"ion-card-title",[],null,null,null,o.u,o.e)),t.zb(9,49152,null,0,r.n,[t.j,t.p,t.F],null,null),(l()(),t.Ob(10,0,["Trabalhos Avaliados - ",""])),(l()(),t.Ab(11,0,null,0,3,"ion-card-content",[],null,null,null,o.s,o.c)),t.zb(12,49152,null,0,r.k,[t.j,t.p,t.F],null,null),(l()(),t.Ab(13,0,null,0,1,"google-chart",[],null,null,null,e.b,e.a)),t.zb(14,573440,null,0,s.a,[t.p,b.a],{data:[0,"data"]},null),(l()(),t.Ab(15,0,null,0,12,"ion-col",[],null,null,null,o.w,o.f)),t.zb(16,49152,null,0,r.q,[t.j,t.p,t.F],null,null),(l()(),t.Ab(17,0,null,0,10,"ion-card",[],null,null,null,o.v,o.b)),t.zb(18,49152,null,0,r.j,[t.j,t.p,t.F],null,null),(l()(),t.Ab(19,0,null,0,4,"ion-card-header",[],null,null,null,o.t,o.d)),t.zb(20,49152,null,0,r.l,[t.j,t.p,t.F],null,null),(l()(),t.Ab(21,0,null,0,2,"ion-card-title",[],null,null,null,o.u,o.e)),t.zb(22,49152,null,0,r.n,[t.j,t.p,t.F],null,null),(l()(),t.Ob(23,0,["Check-in Avaliadores - ",""])),(l()(),t.Ab(24,0,null,0,3,"ion-card-content",[],null,null,null,o.s,o.c)),t.zb(25,49152,null,0,r.k,[t.j,t.p,t.F],null,null),(l()(),t.Ab(26,0,null,0,1,"google-chart",[],null,null,null,e.b,e.a)),t.zb(27,573440,null,0,s.a,[t.p,b.a],{data:[0,"data"]},null)],(function(l,n){l(n,14,0,n.context.$implicit.trabalhos.chart),l(n,27,0,n.context.$implicit.avaliadores.chart)}),(function(l,n){l(n,10,0,n.context.$implicit.trabalhos.title),l(n,23,0,n.context.$implicit.avaliadores.title)}))}function A(l){return t.Pb(0,[(l()(),t.Ab(0,0,null,null,6,"ion-header",[],null,null,null,o.z,o.i)),t.zb(1,49152,null,0,r.y,[t.j,t.p,t.F],null,null),(l()(),t.Ab(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,o.H,o.q)),t.zb(3,49152,null,0,r.zb,[t.j,t.p,t.F],{color:[0,"color"]},null),(l()(),t.Ab(4,0,null,0,2,"ion-title",[],null,null,null,o.G,o.p)),t.zb(5,49152,null,0,r.xb,[t.j,t.p,t.F],null,null),(l()(),t.Ob(-1,0,[" Gr\xe1ficos "])),(l()(),t.Ab(7,0,null,null,5,"ion-content",[],null,null,null,o.x,o.g)),t.zb(8,49152,null,0,r.r,[t.j,t.p,t.F],null,null),(l()(),t.Ab(9,0,null,0,3,"ion-grid",[],null,null,null,o.y,o.h)),t.zb(10,49152,null,0,r.x,[t.j,t.p,t.F],null,null),(l()(),t.pb(16777216,null,0,1,null,v)),t.zb(12,278528,null,0,c.h,[t.V,t.R,t.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var a=n.component;l(n,3,0,"primary"),l(n,12,0,a.graficos)}),null)}function F(l){return t.Pb(0,[(l()(),t.Ab(0,0,null,null,1,"app-tab1",[],null,null,null,A,f)),t.zb(1,114688,null,0,g,[d.a,r.Db],null,null)],(function(l,n){l(n,1,0)}),null)}var m=t.wb("app-tab1",g,F,{},{},[]),z=a("s7LF"),J=a("LtGu"),C=a("iInd");a.d(n,"Tab1PageModuleNgFactory",(function(){return j}));var j=t.xb(u,[],(function(l){return t.Ib([t.Jb(512,t.m,t.ib,[[8,[i.a,m]],[3,t.m],t.D]),t.Jb(4608,c.j,c.i,[t.z,[2,c.p]]),t.Jb(4608,r.a,r.a,[t.F,t.g]),t.Jb(4608,r.Eb,r.Eb,[r.a,t.m,t.w]),t.Jb(4608,r.Hb,r.Hb,[r.a,t.m,t.w]),t.Jb(4608,z.d,z.d,[]),t.Jb(4608,b.a,b.a,[t.z,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),t.Jb(1073742336,c.b,c.b,[]),t.Jb(1073742336,r.Bb,r.Bb,[]),t.Jb(1073742336,z.c,z.c,[]),t.Jb(1073742336,z.a,z.a,[]),t.Jb(1073742336,J.a,J.a,[]),t.Jb(1073742336,C.o,C.o,[[2,C.t],[2,C.m]]),t.Jb(1073742336,u,u,[]),t.Jb(1024,C.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);